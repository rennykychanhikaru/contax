"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/realtime/token/route";
exports.ids = ["app/api/realtime/token/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/next@14.2.32_@babel+core@7.28.4_react-dom@18.2.0_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frealtime%2Ftoken%2Froute&page=%2Fapi%2Frealtime%2Ftoken%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frealtime%2Ftoken%2Froute.ts&appDir=%2FUsers%2Frennychan%2FPersonal%20Apps%2Fcontax%2Fapps%2Fdemo-web%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Frennychan%2FPersonal%20Apps%2Fcontax%2Fapps%2Fdemo-web&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/next@14.2.32_@babel+core@7.28.4_react-dom@18.2.0_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frealtime%2Ftoken%2Froute&page=%2Fapi%2Frealtime%2Ftoken%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frealtime%2Ftoken%2Froute.ts&appDir=%2FUsers%2Frennychan%2FPersonal%20Apps%2Fcontax%2Fapps%2Fdemo-web%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Frennychan%2FPersonal%20Apps%2Fcontax%2Fapps%2Fdemo-web&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/../../node_modules/.pnpm/next@14.2.32_@babel+core@7.28.4_react-dom@18.2.0_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/../../node_modules/.pnpm/next@14.2.32_@babel+core@7.28.4_react-dom@18.2.0_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/../../node_modules/.pnpm/next@14.2.32_@babel+core@7.28.4_react-dom@18.2.0_react@18.3.1__react@18.3.1/node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_rennychan_Personal_Apps_contax_apps_demo_web_app_api_realtime_token_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/realtime/token/route.ts */ \"(rsc)/./app/api/realtime/token/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/realtime/token/route\",\n        pathname: \"/api/realtime/token\",\n        filename: \"route\",\n        bundlePath: \"app/api/realtime/token/route\"\n    },\n    resolvedPagePath: \"/Users/rennychan/Personal Apps/contax/apps/demo-web/app/api/realtime/token/route.ts\",\n    nextConfigOutput,\n    userland: _Users_rennychan_Personal_Apps_contax_apps_demo_web_app_api_realtime_token_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/realtime/token/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTQuMi4zMl9AYmFiZWwrY29yZUA3LjI4LjRfcmVhY3QtZG9tQDE4LjIuMF9yZWFjdEAxOC4zLjFfX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZyZWFsdGltZSUyRnRva2VuJTJGcm91dGUmcGFnZT0lMkZhcGklMkZyZWFsdGltZSUyRnRva2VuJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGcmVhbHRpbWUlMkZ0b2tlbiUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnJlbm55Y2hhbiUyRlBlcnNvbmFsJTIwQXBwcyUyRmNvbnRheCUyRmFwcHMlMkZkZW1vLXdlYiUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZyZW5ueWNoYW4lMkZQZXJzb25hbCUyMEFwcHMlMkZjb250YXglMkZhcHBzJTJGZGVtby13ZWImaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ21DO0FBQ2hIO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGNvbnRheC9kZW1vLXdlYi8/ODVjNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvcmVubnljaGFuL1BlcnNvbmFsIEFwcHMvY29udGF4L2FwcHMvZGVtby13ZWIvYXBwL2FwaS9yZWFsdGltZS90b2tlbi9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvcmVhbHRpbWUvdG9rZW4vcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9yZWFsdGltZS90b2tlblwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvcmVhbHRpbWUvdG9rZW4vcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvcmVubnljaGFuL1BlcnNvbmFsIEFwcHMvY29udGF4L2FwcHMvZGVtby13ZWIvYXBwL2FwaS9yZWFsdGltZS90b2tlbi9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvcmVhbHRpbWUvdG9rZW4vcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/next@14.2.32_@babel+core@7.28.4_react-dom@18.2.0_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frealtime%2Ftoken%2Froute&page=%2Fapi%2Frealtime%2Ftoken%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frealtime%2Ftoken%2Froute.ts&appDir=%2FUsers%2Frennychan%2FPersonal%20Apps%2Fcontax%2Fapps%2Fdemo-web%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Frennychan%2FPersonal%20Apps%2Fcontax%2Fapps%2Fdemo-web&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/realtime/token/route.ts":
/*!*****************************************!*\
  !*** ./app/api/realtime/token/route.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/../../node_modules/.pnpm/@supabase+supabase-js@2.57.2/node_modules/@supabase/supabase-js/dist/module/index.js\");\n\nasync function POST(req) {\n    // This endpoint exchanges the server API key for a short-lived\n    // ephemeral client secret used by the browser to open a Realtime session.\n    // Requires: process.env.OPENAI_API_KEY\n    const apiKey = process.env.OPENAI_API_KEY;\n    const model = process.env.OPENAI_REALTIME_MODEL || \"gpt-4o-realtime-preview-2024-12-17\";\n    if (!apiKey) {\n        return new Response(JSON.stringify({\n            error: \"Missing OPENAI_API_KEY\"\n        }), {\n            status: 500\n        });\n    }\n    const { systemPrompt, organizationId, calendarId, greeting, language, timeZone } = await req.json().catch(()=>({\n            systemPrompt: undefined,\n            organizationId: undefined,\n            calendarId: undefined,\n            greeting: undefined,\n            language: undefined,\n            timeZone: undefined\n        }));\n    // Resolve default organization if not provided\n    let orgId = organizationId;\n    if (!orgId) {\n        const supabaseUrl = process.env.SUPABASE_URL;\n        const supabaseKey = process.env.SUPABASE_SERVICE_ROLE_KEY || process.env.SUPABASE_ANON_KEY;\n        if (supabaseUrl && supabaseKey) {\n            const supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseKey);\n            const { data } = await supabase.from(\"organizations\").select(\"id\").limit(1);\n            orgId = data?.[0]?.id;\n        }\n    }\n    const calId = calendarId || \"primary\";\n    const locale = language || \"en-US\";\n    const transcriptionLang = locale.split(\"-\")[0] || \"en\";\n    const tz = timeZone || undefined;\n    const r = await fetch(\"https://api.openai.com/v1/realtime/sessions\", {\n        method: \"POST\",\n        headers: {\n            Authorization: `Bearer ${apiKey}`,\n            \"Content-Type\": \"application/json\",\n            \"OpenAI-Beta\": \"realtime=v1\"\n        },\n        body: JSON.stringify({\n            model,\n            voice: \"verse\",\n            // Instruct the assistant how to behave\n            instructions: (systemPrompt || \"You are a helpful scheduling assistant.\") + `\\nYou MUST speak only in ${locale}. Do not code-switch.` + (tz ? `\\nAll times are in ${tz}. When confirming, say the weekday and local time (e.g., Monday 10:00 AM).` : \"\") + `\\nWhen providing date-times to tools, do NOT include a timezone offset. Provide local wall time only (the server will apply the calendar timezone).` + `\\nUse the provided tools to check availability and book. Default organizationId=${orgId || \"unknown\"} calendarId=${calId}. Ask for missing details if necessary.` + `\\nWhen you call a tool, you MUST include the exact function name. Examples:` + `\\n- checkAvailability({\\\"organizationId\\\":\\\"${orgId || \"ORG_ID\"}\\\",\\\"start\\\":\\\"2025-09-10T10:00:00-04:00\\\",\\\"end\\\":\\\"2025-09-10T11:00:00-04:00\\\",\\\"calendarId\\\":\\\"${calId}\\\"})` + `\\n- bookAppointment({\\\"organizationId\\\":\\\"${orgId || \"ORG_ID\"}\\\",\\\"customer\\\":{\\\"name\\\":\\\"Alex\\\"},\\\"start\\\":\\\"2025-09-10T10:00:00-04:00\\\",\\\"end\\\":\\\"2025-09-10T11:00:00-04:00\\\",\\\"calendarId\\\":\\\"${calId}\\\"})`,\n            tool_choice: \"auto\",\n            tools: [\n                {\n                    type: \"function\",\n                    name: \"checkAvailability\",\n                    description: \"Check if a time window is available for booking\",\n                    parameters: {\n                        type: \"object\",\n                        properties: {\n                            organizationId: {\n                                type: \"string\",\n                                description: \"Organization identifier\"\n                            },\n                            start: {\n                                type: \"string\",\n                                description: \"Start ISO datetime\"\n                            },\n                            end: {\n                                type: \"string\",\n                                description: \"End ISO datetime\"\n                            },\n                            calendarId: {\n                                type: \"string\",\n                                description: \"Google Calendar id; default primary\"\n                            }\n                        },\n                        required: [\n                            \"start\",\n                            \"end\"\n                        ]\n                    }\n                },\n                {\n                    type: \"function\",\n                    name: \"bookAppointment\",\n                    description: \"Book an appointment and return details\",\n                    parameters: {\n                        type: \"object\",\n                        properties: {\n                            organizationId: {\n                                type: \"string\"\n                            },\n                            customer: {\n                                type: \"object\",\n                                properties: {\n                                    name: {\n                                        type: \"string\"\n                                    },\n                                    phone: {\n                                        type: \"string\"\n                                    },\n                                    email: {\n                                        type: \"string\"\n                                    }\n                                }\n                            },\n                            start: {\n                                type: \"string\"\n                            },\n                            end: {\n                                type: \"string\"\n                            },\n                            notes: {\n                                type: \"string\"\n                            },\n                            calendarId: {\n                                type: \"string\"\n                            }\n                        },\n                        required: [\n                            \"start\",\n                            \"end\"\n                        ]\n                    }\n                },\n                {\n                    type: \"function\",\n                    name: \"getAvailableSlots\",\n                    description: \"List available slots for a given day in the user's calendar timezone\",\n                    parameters: {\n                        type: \"object\",\n                        properties: {\n                            organizationId: {\n                                type: \"string\"\n                            },\n                            date: {\n                                type: \"string\",\n                                description: \"YYYY-MM-DD in local calendar timezone\"\n                            },\n                            slotMinutes: {\n                                type: \"number\",\n                                description: \"Length of each slot in minutes (default 60)\"\n                            },\n                            businessHours: {\n                                type: \"object\",\n                                properties: {\n                                    start: {\n                                        type: \"string\",\n                                        description: \"HH:MM e.g. 09:00\"\n                                    },\n                                    end: {\n                                        type: \"string\",\n                                        description: \"HH:MM e.g. 17:00\"\n                                    }\n                                }\n                            },\n                            calendarIds: {\n                                type: \"array\",\n                                items: {\n                                    type: \"string\"\n                                },\n                                description: \"Optional list of calendar IDs to consider\"\n                            }\n                        },\n                        required: [\n                            \"date\"\n                        ]\n                    }\n                }\n            ],\n            input_audio_transcription: {\n                model: \"gpt-4o-transcribe\",\n                language: transcriptionLang\n            }\n        })\n    });\n    if (!r.ok) {\n        const text = await r.text();\n        return new Response(JSON.stringify({\n            error: \"OpenAI error (session create)\",\n            detail: text\n        }), {\n            status: 500\n        });\n    }\n    const data = await r.json();\n    return new Response(JSON.stringify(data), {\n        status: 200,\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFhO2dDQUFFZixNQUFNO2dDQUFTZ0IsT0FBTztvQ0FBRWhCLE1BQU07Z0NBQVM7Z0NBQUdFLGFBQWE7NEJBQTRDO3dCQUNwSDt3QkFDQUssVUFBVTs0QkFBQzt5QkFBTztvQkFDcEI7Z0JBQ0Y7YUFDRDtZQUNEVSwyQkFBMkI7Z0JBQ3pCNUQsT0FBTztnQkFDUFcsVUFBVW1CO1lBQ1o7UUFDRjtJQUNGO0lBRUEsSUFBSSxDQUFDRyxFQUFFNEIsRUFBRSxFQUFFO1FBQ1QsTUFBTUMsT0FBTyxNQUFNN0IsRUFBRTZCLElBQUk7UUFDekIsT0FBTyxJQUFJNUQsU0FDVEMsS0FBS0MsU0FBUyxDQUFDO1lBQUVDLE9BQU87WUFBaUMwRCxRQUFRRDtRQUFLLElBQ3RFO1lBQUV4RCxRQUFRO1FBQUk7SUFFbEI7SUFFQSxNQUFNaUIsT0FBTyxNQUFNVSxFQUFFcEIsSUFBSTtJQUN6QixPQUFPLElBQUlYLFNBQVNDLEtBQUtDLFNBQVMsQ0FBQ21CLE9BQU87UUFBRWpCLFFBQVE7UUFBSzhCLFNBQVM7WUFBRSxnQkFBZ0I7UUFBbUI7SUFBRTtBQUMzRyIsInNvdXJjZXMiOlsid2VicGFjazovL0Bjb250YXgvZGVtby13ZWIvLi9hcHAvYXBpL3JlYWx0aW1lL3Rva2VuL3JvdXRlLnRzP2I0MWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QgfSBmcm9tICduZXh0L3NlcnZlcidcbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcydcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxOiBOZXh0UmVxdWVzdCkge1xuICAvLyBUaGlzIGVuZHBvaW50IGV4Y2hhbmdlcyB0aGUgc2VydmVyIEFQSSBrZXkgZm9yIGEgc2hvcnQtbGl2ZWRcbiAgLy8gZXBoZW1lcmFsIGNsaWVudCBzZWNyZXQgdXNlZCBieSB0aGUgYnJvd3NlciB0byBvcGVuIGEgUmVhbHRpbWUgc2Vzc2lvbi5cbiAgLy8gUmVxdWlyZXM6IHByb2Nlc3MuZW52Lk9QRU5BSV9BUElfS0VZXG4gIGNvbnN0IGFwaUtleSA9IHByb2Nlc3MuZW52Lk9QRU5BSV9BUElfS0VZXG4gIGNvbnN0IG1vZGVsID0gcHJvY2Vzcy5lbnYuT1BFTkFJX1JFQUxUSU1FX01PREVMIHx8ICdncHQtNG8tcmVhbHRpbWUtcHJldmlldy0yMDI0LTEyLTE3J1xuICBpZiAoIWFwaUtleSkge1xuICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBlcnJvcjogJ01pc3NpbmcgT1BFTkFJX0FQSV9LRVknIH0pLCB7IHN0YXR1czogNTAwIH0pXG4gIH1cblxuICBjb25zdCB7IHN5c3RlbVByb21wdCwgb3JnYW5pemF0aW9uSWQsIGNhbGVuZGFySWQsIGdyZWV0aW5nLCBsYW5ndWFnZSwgdGltZVpvbmUgfSA9IGF3YWl0IHJlcVxuICAgIC5qc29uKClcbiAgICAuY2F0Y2goKCkgPT4gKHsgc3lzdGVtUHJvbXB0OiB1bmRlZmluZWQsIG9yZ2FuaXphdGlvbklkOiB1bmRlZmluZWQsIGNhbGVuZGFySWQ6IHVuZGVmaW5lZCwgZ3JlZXRpbmc6IHVuZGVmaW5lZCwgbGFuZ3VhZ2U6IHVuZGVmaW5lZCwgdGltZVpvbmU6IHVuZGVmaW5lZCB9KSlcblxuICAvLyBSZXNvbHZlIGRlZmF1bHQgb3JnYW5pemF0aW9uIGlmIG5vdCBwcm92aWRlZFxuICBsZXQgb3JnSWQgPSBvcmdhbml6YXRpb25JZCBhcyBzdHJpbmcgfCB1bmRlZmluZWRcbiAgaWYgKCFvcmdJZCkge1xuICAgIGNvbnN0IHN1cGFiYXNlVXJsID0gcHJvY2Vzcy5lbnYuU1VQQUJBU0VfVVJMXG4gICAgY29uc3Qgc3VwYWJhc2VLZXkgPSBwcm9jZXNzLmVudi5TVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZIHx8IHByb2Nlc3MuZW52LlNVUEFCQVNFX0FOT05fS0VZXG4gICAgaWYgKHN1cGFiYXNlVXJsICYmIHN1cGFiYXNlS2V5KSB7XG4gICAgICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudChzdXBhYmFzZVVybCwgc3VwYWJhc2VLZXkpXG4gICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHN1cGFiYXNlLmZyb20oJ29yZ2FuaXphdGlvbnMnKS5zZWxlY3QoJ2lkJykubGltaXQoMSlcbiAgICAgIG9yZ0lkID0gZGF0YT8uWzBdPy5pZFxuICAgIH1cbiAgfVxuICBjb25zdCBjYWxJZCA9IChjYWxlbmRhcklkIGFzIHN0cmluZykgfHwgJ3ByaW1hcnknXG4gIGNvbnN0IGxvY2FsZSA9IChsYW5ndWFnZSBhcyBzdHJpbmcpIHx8ICdlbi1VUydcbiAgY29uc3QgdHJhbnNjcmlwdGlvbkxhbmcgPSBsb2NhbGUuc3BsaXQoJy0nKVswXSB8fCAnZW4nXG4gIGNvbnN0IHR6ID0gKHRpbWVab25lIGFzIHN0cmluZykgfHwgdW5kZWZpbmVkXG5cbiAgY29uc3QgciA9IGF3YWl0IGZldGNoKCdodHRwczovL2FwaS5vcGVuYWkuY29tL3YxL3JlYWx0aW1lL3Nlc3Npb25zJywge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHthcGlLZXl9YCxcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAnT3BlbkFJLUJldGEnOiAncmVhbHRpbWU9djEnXG4gICAgfSxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICBtb2RlbCxcbiAgICAgIHZvaWNlOiAndmVyc2UnLFxuICAgICAgLy8gSW5zdHJ1Y3QgdGhlIGFzc2lzdGFudCBob3cgdG8gYmVoYXZlXG4gICAgICBpbnN0cnVjdGlvbnM6XG4gICAgICAgIChzeXN0ZW1Qcm9tcHQgfHwgJ1lvdSBhcmUgYSBoZWxwZnVsIHNjaGVkdWxpbmcgYXNzaXN0YW50LicpICtcbiAgICAgICAgYFxcbllvdSBNVVNUIHNwZWFrIG9ubHkgaW4gJHtsb2NhbGV9LiBEbyBub3QgY29kZS1zd2l0Y2guYCArXG4gICAgICAgICh0eiA/IGBcXG5BbGwgdGltZXMgYXJlIGluICR7dHp9LiBXaGVuIGNvbmZpcm1pbmcsIHNheSB0aGUgd2Vla2RheSBhbmQgbG9jYWwgdGltZSAoZS5nLiwgTW9uZGF5IDEwOjAwIEFNKS5gIDogJycpICtcbiAgICAgICAgYFxcbldoZW4gcHJvdmlkaW5nIGRhdGUtdGltZXMgdG8gdG9vbHMsIGRvIE5PVCBpbmNsdWRlIGEgdGltZXpvbmUgb2Zmc2V0LiBQcm92aWRlIGxvY2FsIHdhbGwgdGltZSBvbmx5ICh0aGUgc2VydmVyIHdpbGwgYXBwbHkgdGhlIGNhbGVuZGFyIHRpbWV6b25lKS5gICtcbiAgICAgICAgYFxcblVzZSB0aGUgcHJvdmlkZWQgdG9vbHMgdG8gY2hlY2sgYXZhaWxhYmlsaXR5IGFuZCBib29rLiBEZWZhdWx0IG9yZ2FuaXphdGlvbklkPSR7b3JnSWQgfHwgJ3Vua25vd24nfSBjYWxlbmRhcklkPSR7Y2FsSWR9LiBBc2sgZm9yIG1pc3NpbmcgZGV0YWlscyBpZiBuZWNlc3NhcnkuYCArXG4gICAgICAgIGBcXG5XaGVuIHlvdSBjYWxsIGEgdG9vbCwgeW91IE1VU1QgaW5jbHVkZSB0aGUgZXhhY3QgZnVuY3Rpb24gbmFtZS4gRXhhbXBsZXM6YCArXG4gICAgICAgIGBcXG4tIGNoZWNrQXZhaWxhYmlsaXR5KHtcXFwib3JnYW5pemF0aW9uSWRcXFwiOlxcXCIke29yZ0lkIHx8ICdPUkdfSUQnfVxcXCIsXFxcInN0YXJ0XFxcIjpcXFwiMjAyNS0wOS0xMFQxMDowMDowMC0wNDowMFxcXCIsXFxcImVuZFxcXCI6XFxcIjIwMjUtMDktMTBUMTE6MDA6MDAtMDQ6MDBcXFwiLFxcXCJjYWxlbmRhcklkXFxcIjpcXFwiJHtjYWxJZH1cXFwifSlgICtcbiAgICAgICAgYFxcbi0gYm9va0FwcG9pbnRtZW50KHtcXFwib3JnYW5pemF0aW9uSWRcXFwiOlxcXCIke29yZ0lkIHx8ICdPUkdfSUQnfVxcXCIsXFxcImN1c3RvbWVyXFxcIjp7XFxcIm5hbWVcXFwiOlxcXCJBbGV4XFxcIn0sXFxcInN0YXJ0XFxcIjpcXFwiMjAyNS0wOS0xMFQxMDowMDowMC0wNDowMFxcXCIsXFxcImVuZFxcXCI6XFxcIjIwMjUtMDktMTBUMTE6MDA6MDAtMDQ6MDBcXFwiLFxcXCJjYWxlbmRhcklkXFxcIjpcXFwiJHtjYWxJZH1cXFwifSlgLFxuICAgICAgdG9vbF9jaG9pY2U6ICdhdXRvJyxcbiAgICAgIHRvb2xzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiAnZnVuY3Rpb24nLFxuICAgICAgICAgIG5hbWU6ICdjaGVja0F2YWlsYWJpbGl0eScsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdDaGVjayBpZiBhIHRpbWUgd2luZG93IGlzIGF2YWlsYWJsZSBmb3IgYm9va2luZycsXG4gICAgICAgICAgcGFyYW1ldGVyczoge1xuICAgICAgICAgICAgdHlwZTogJ29iamVjdCcsXG4gICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgIG9yZ2FuaXphdGlvbklkOiB7IHR5cGU6ICdzdHJpbmcnLCBkZXNjcmlwdGlvbjogJ09yZ2FuaXphdGlvbiBpZGVudGlmaWVyJyB9LFxuICAgICAgICAgICAgICBzdGFydDogeyB0eXBlOiAnc3RyaW5nJywgZGVzY3JpcHRpb246ICdTdGFydCBJU08gZGF0ZXRpbWUnIH0sXG4gICAgICAgICAgICAgIGVuZDogeyB0eXBlOiAnc3RyaW5nJywgZGVzY3JpcHRpb246ICdFbmQgSVNPIGRhdGV0aW1lJyB9LFxuICAgICAgICAgICAgICBjYWxlbmRhcklkOiB7IHR5cGU6ICdzdHJpbmcnLCBkZXNjcmlwdGlvbjogJ0dvb2dsZSBDYWxlbmRhciBpZDsgZGVmYXVsdCBwcmltYXJ5JyB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVxdWlyZWQ6IFsnc3RhcnQnLCAnZW5kJ11cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiAnZnVuY3Rpb24nLFxuICAgICAgICAgIG5hbWU6ICdib29rQXBwb2ludG1lbnQnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQm9vayBhbiBhcHBvaW50bWVudCBhbmQgcmV0dXJuIGRldGFpbHMnLFxuICAgICAgICAgIHBhcmFtZXRlcnM6IHtcbiAgICAgICAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICBvcmdhbml6YXRpb25JZDogeyB0eXBlOiAnc3RyaW5nJyB9LFxuICAgICAgICAgICAgICBjdXN0b21lcjoge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgIG5hbWU6IHsgdHlwZTogJ3N0cmluZycgfSxcbiAgICAgICAgICAgICAgICAgIHBob25lOiB7IHR5cGU6ICdzdHJpbmcnIH0sXG4gICAgICAgICAgICAgICAgICBlbWFpbDogeyB0eXBlOiAnc3RyaW5nJyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBzdGFydDogeyB0eXBlOiAnc3RyaW5nJyB9LFxuICAgICAgICAgICAgICBlbmQ6IHsgdHlwZTogJ3N0cmluZycgfSxcbiAgICAgICAgICAgICAgbm90ZXM6IHsgdHlwZTogJ3N0cmluZycgfSxcbiAgICAgICAgICAgICAgY2FsZW5kYXJJZDogeyB0eXBlOiAnc3RyaW5nJyB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVxdWlyZWQ6IFsnc3RhcnQnLCAnZW5kJ11cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiAnZnVuY3Rpb24nLFxuICAgICAgICAgIG5hbWU6ICdnZXRBdmFpbGFibGVTbG90cycsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdMaXN0IGF2YWlsYWJsZSBzbG90cyBmb3IgYSBnaXZlbiBkYXkgaW4gdGhlIHVzZXJcXCdzIGNhbGVuZGFyIHRpbWV6b25lJyxcbiAgICAgICAgICBwYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgb3JnYW5pemF0aW9uSWQ6IHsgdHlwZTogJ3N0cmluZycgfSxcbiAgICAgICAgICAgICAgZGF0ZTogeyB0eXBlOiAnc3RyaW5nJywgZGVzY3JpcHRpb246ICdZWVlZLU1NLUREIGluIGxvY2FsIGNhbGVuZGFyIHRpbWV6b25lJyB9LFxuICAgICAgICAgICAgICBzbG90TWludXRlczogeyB0eXBlOiAnbnVtYmVyJywgZGVzY3JpcHRpb246ICdMZW5ndGggb2YgZWFjaCBzbG90IGluIG1pbnV0ZXMgKGRlZmF1bHQgNjApJyB9LFxuICAgICAgICAgICAgICBidXNpbmVzc0hvdXJzOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ29iamVjdCcsXG4gICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgc3RhcnQ6IHsgdHlwZTogJ3N0cmluZycsIGRlc2NyaXB0aW9uOiAnSEg6TU0gZS5nLiAwOTowMCcgfSxcbiAgICAgICAgICAgICAgICAgIGVuZDogeyB0eXBlOiAnc3RyaW5nJywgZGVzY3JpcHRpb246ICdISDpNTSBlLmcuIDE3OjAwJyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBjYWxlbmRhcklkczogeyB0eXBlOiAnYXJyYXknLCBpdGVtczogeyB0eXBlOiAnc3RyaW5nJyB9LCBkZXNjcmlwdGlvbjogJ09wdGlvbmFsIGxpc3Qgb2YgY2FsZW5kYXIgSURzIHRvIGNvbnNpZGVyJyB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVxdWlyZWQ6IFsnZGF0ZSddXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgaW5wdXRfYXVkaW9fdHJhbnNjcmlwdGlvbjoge1xuICAgICAgICBtb2RlbDogJ2dwdC00by10cmFuc2NyaWJlJyxcbiAgICAgICAgbGFuZ3VhZ2U6IHRyYW5zY3JpcHRpb25MYW5nXG4gICAgICB9XG4gICAgfSlcbiAgfSlcblxuICBpZiAoIXIub2spIHtcbiAgICBjb25zdCB0ZXh0ID0gYXdhaXQgci50ZXh0KClcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKFxuICAgICAgSlNPTi5zdHJpbmdpZnkoeyBlcnJvcjogJ09wZW5BSSBlcnJvciAoc2Vzc2lvbiBjcmVhdGUpJywgZGV0YWlsOiB0ZXh0IH0pLFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKVxuICB9XG5cbiAgY29uc3QgZGF0YSA9IGF3YWl0IHIuanNvbigpXG4gIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoZGF0YSksIHsgc3RhdHVzOiAyMDAsIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pXG59XG4iXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50IiwiUE9TVCIsInJlcSIsImFwaUtleSIsInByb2Nlc3MiLCJlbnYiLCJPUEVOQUlfQVBJX0tFWSIsIm1vZGVsIiwiT1BFTkFJX1JFQUxUSU1FX01PREVMIiwiUmVzcG9uc2UiLCJKU09OIiwic3RyaW5naWZ5IiwiZXJyb3IiLCJzdGF0dXMiLCJzeXN0ZW1Qcm9tcHQiLCJvcmdhbml6YXRpb25JZCIsImNhbGVuZGFySWQiLCJncmVldGluZyIsImxhbmd1YWdlIiwidGltZVpvbmUiLCJqc29uIiwiY2F0Y2giLCJ1bmRlZmluZWQiLCJvcmdJZCIsInN1cGFiYXNlVXJsIiwiU1VQQUJBU0VfVVJMIiwic3VwYWJhc2VLZXkiLCJTVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZIiwiU1VQQUJBU0VfQU5PTl9LRVkiLCJzdXBhYmFzZSIsImRhdGEiLCJmcm9tIiwic2VsZWN0IiwibGltaXQiLCJpZCIsImNhbElkIiwibG9jYWxlIiwidHJhbnNjcmlwdGlvbkxhbmciLCJzcGxpdCIsInR6IiwiciIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsIkF1dGhvcml6YXRpb24iLCJib2R5Iiwidm9pY2UiLCJpbnN0cnVjdGlvbnMiLCJ0b29sX2Nob2ljZSIsInRvb2xzIiwidHlwZSIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsInBhcmFtZXRlcnMiLCJwcm9wZXJ0aWVzIiwic3RhcnQiLCJlbmQiLCJyZXF1aXJlZCIsImN1c3RvbWVyIiwicGhvbmUiLCJlbWFpbCIsIm5vdGVzIiwiZGF0ZSIsInNsb3RNaW51dGVzIiwiYnVzaW5lc3NIb3VycyIsImNhbGVuZGFySWRzIiwiaXRlbXMiLCJpbnB1dF9hdWRpb190cmFuc2NyaXB0aW9uIiwib2siLCJ0ZXh0IiwiZGV0YWlsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/realtime/token/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@14.2.32_@babel+core@7.28.4_react-dom@18.2.0_react@18.3.1__react@18.3.1","vendor-chunks/@supabase+auth-js@2.71.1","vendor-chunks/@supabase+realtime-js@2.15.5","vendor-chunks/@supabase+storage-js@2.11.1","vendor-chunks/@supabase+postgrest-js@1.21.3","vendor-chunks/@supabase+supabase-js@2.57.2","vendor-chunks/whatwg-url@5.0.0","vendor-chunks/@supabase+functions-js@2.4.5","vendor-chunks/tr46@0.0.3","vendor-chunks/webidl-conversions@3.0.1","vendor-chunks/@supabase+node-fetch@2.6.15"], () => (__webpack_exec__("(rsc)/../../node_modules/.pnpm/next@14.2.32_@babel+core@7.28.4_react-dom@18.2.0_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frealtime%2Ftoken%2Froute&page=%2Fapi%2Frealtime%2Ftoken%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frealtime%2Ftoken%2Froute.ts&appDir=%2FUsers%2Frennychan%2FPersonal%20Apps%2Fcontax%2Fapps%2Fdemo-web%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Frennychan%2FPersonal%20Apps%2Fcontax%2Fapps%2Fdemo-web&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();